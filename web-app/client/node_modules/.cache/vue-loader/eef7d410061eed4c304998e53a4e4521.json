{"remainingRequest":"/Users/dengqi/Development/hyperledgerPrjts/fabcar_impl/web-app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dengqi/Development/hyperledgerPrjts/fabcar_impl/web-app/client/src/components/ShowBlockchain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dengqi/Development/hyperledgerPrjts/fabcar_impl/web-app/client/src/components/ShowBlockchain.vue","mtime":1554638420271},{"path":"/Users/dengqi/Development/hyperledgerPrjts/fabcar_impl/web-app/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dengqi/Development/hyperledgerPrjts/fabcar_impl/web-app/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PostsService from \"@/services/apiService\";\nexport default {\n  name: \"response\",\n  data() {\n    return {\n      response: {}\n    };\n  },\n  mounted() {\n    this.load();\n  },\n  methods: {\n    async load() {\n      const apiResponse = await PostsService.showBlockchain();\n      this.response = apiResponse.data;\n    }\n  }\n};\n\n/* \n//和button合用，但调用post(\"/fabric/getBlockchain\", options))不成功，点击按钮无反应; --->改为和queryAllcars同样的显示方式\nexport default {\n  el: \"blockchain\",\n  methods: {\n    show: function showBlockchain() {\n      $(\"#body\").empty();\n      let options = {};\n      showLoad();\n      $.when($.post(\"/fabric/getBlockchain\", options)).done(function(_results) {\n        hideLoad();\n        if (_results.result === \"Success\") {\n          console.log(\"success\");\n          console.log(\"_results\");\n          console.log(_results);\n          $(\"#body\").append(\"<h2>Blockchain</h2>\");\n          $(\"#body\").append(\"<br><br>\");\n\n          if (_results.returnBlockchain && _results.returnBlockchain.length) {\n            var displayBlockchain = _results.returnBlockchain;\n            var displayBlockchainLength = displayBlockchain.length;\n            for (var l = displayBlockchainLength - 1; l >= 0; l--) {\n              var str =\n                '<div class=\"showBlock\"><p><b>Block Number:</b> ' +\n                displayBlockchain[l].number +\n                \"</p>\";\n              str +=\n                \"<p><b>Data Hash:</b> \" +\n                displayBlockchain[l].data_hash +\n                \"</p>\";\n              str +=\n                \"<p><b>Number of Transactions:</b> \" +\n                displayBlockchain[l].num_transactions +\n                \"</p>\";\n\n              if (\n                displayBlockchain[l].transactions &&\n                displayBlockchain[l].transactions.length\n              ) {\n                str +=\n                  '<div class=\"showTransactions\"><p><b>Transactions:</b></p>';\n                for (\n                  var k = 0;\n                  k < displayBlockchain[l].transactions.length;\n                  k++\n                ) {\n                  str +=\n                    \"<p><b>tx_id:</b> \" +\n                    displayBlockchain[l].transactions[k].id +\n                    \"</p>\";\n                  str +=\n                    \"<p><b>timestamp:</b> \" +\n                    displayBlockchain[l].transactions[k].timestamp +\n                    \"</p>\";\n                  str += \"<p><b>writes</b></p>\";\n                  if (\n                    displayBlockchain[l].transactions[k].ns_rwsets &&\n                    displayBlockchain[l].transactions[k].ns_rwsets.length\n                  ) {\n                    var rwsets = displayBlockchain[l].transactions[k].ns_rwsets;\n                    for (var j = 0; j < rwsets.length; j++) {\n                      if (rwsets[j].writes && rwsets[j].writes.length) {\n                        for (var i = 0; i < rwsets[j].writes.length; i++) {\n                          str += '<div class=\"showWrites\">';\n                          str += \"<p>key: \" + rwsets[j].writes[i].key + \"</p>\";\n                          str +=\n                            \"<p>value: \" + rwsets[j].writes[i].value + \"</p>\";\n                          str += \"</div>\";\n                        }\n                      }\n                    }\n                  }\n\n                  //str += '<p>----]</p>' ;\n                  str += \"</div><br>\";\n                }\n              }\n\n              //str += '<p>]</p></div><br>';\n              str += \"</div><br>\";\n              $(\"#body\").append(str);\n            }\n          }\n        } else {\n          console.log(\"error\");\n          console.log(_results);\n          $(\"#body\").append(\"<h4>\" + _results.error + \"</h4>\");\n        }\n      });\n    }\n  }\n};\n*/\n",{"version":3,"sources":["ShowBlockchain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShowBlockchain.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"posts\">\n    <legend>查看区块信息</legend>\n    <!-- <div id=\"blockchain\" class=\"col-lg-9 col-lg-offset-2\">\n      <button class=\"btn btn-primary\" v-on:click=\"show()\">blocks</button>\n    </div>-->\n\n    <div>\n      <template v-if=\"response && response.length>0\">\n          <div class=\"row\">\n            <div v-bind:key=\"block.number\" v-for=\"block in response\">\n              <div class=\"carInfo\">\n                <p>Block number：{{ block.number }}</p>\n                <p class=\"carInfoItem\">Data hash：{{ block.data_hash }}</p>\n              </div>\n            </div>\n          </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PostsService from \"@/services/apiService\";\nexport default {\n  name: \"response\",\n  data() {\n    return {\n      response: {}\n    };\n  },\n  mounted() {\n    this.load();\n  },\n  methods: {\n    async load() {\n      const apiResponse = await PostsService.showBlockchain();\n      this.response = apiResponse.data;\n    }\n  }\n};\n\n/* \n//和button合用，但调用post(\"/fabric/getBlockchain\", options))不成功，点击按钮无反应; --->改为和queryAllcars同样的显示方式\nexport default {\n  el: \"blockchain\",\n  methods: {\n    show: function showBlockchain() {\n      $(\"#body\").empty();\n      let options = {};\n      showLoad();\n      $.when($.post(\"/fabric/getBlockchain\", options)).done(function(_results) {\n        hideLoad();\n        if (_results.result === \"Success\") {\n          console.log(\"success\");\n          console.log(\"_results\");\n          console.log(_results);\n          $(\"#body\").append(\"<h2>Blockchain</h2>\");\n          $(\"#body\").append(\"<br><br>\");\n\n          if (_results.returnBlockchain && _results.returnBlockchain.length) {\n            var displayBlockchain = _results.returnBlockchain;\n            var displayBlockchainLength = displayBlockchain.length;\n            for (var l = displayBlockchainLength - 1; l >= 0; l--) {\n              var str =\n                '<div class=\"showBlock\"><p><b>Block Number:</b> ' +\n                displayBlockchain[l].number +\n                \"</p>\";\n              str +=\n                \"<p><b>Data Hash:</b> \" +\n                displayBlockchain[l].data_hash +\n                \"</p>\";\n              str +=\n                \"<p><b>Number of Transactions:</b> \" +\n                displayBlockchain[l].num_transactions +\n                \"</p>\";\n\n              if (\n                displayBlockchain[l].transactions &&\n                displayBlockchain[l].transactions.length\n              ) {\n                str +=\n                  '<div class=\"showTransactions\"><p><b>Transactions:</b></p>';\n                for (\n                  var k = 0;\n                  k < displayBlockchain[l].transactions.length;\n                  k++\n                ) {\n                  str +=\n                    \"<p><b>tx_id:</b> \" +\n                    displayBlockchain[l].transactions[k].id +\n                    \"</p>\";\n                  str +=\n                    \"<p><b>timestamp:</b> \" +\n                    displayBlockchain[l].transactions[k].timestamp +\n                    \"</p>\";\n                  str += \"<p><b>writes</b></p>\";\n                  if (\n                    displayBlockchain[l].transactions[k].ns_rwsets &&\n                    displayBlockchain[l].transactions[k].ns_rwsets.length\n                  ) {\n                    var rwsets = displayBlockchain[l].transactions[k].ns_rwsets;\n                    for (var j = 0; j < rwsets.length; j++) {\n                      if (rwsets[j].writes && rwsets[j].writes.length) {\n                        for (var i = 0; i < rwsets[j].writes.length; i++) {\n                          str += '<div class=\"showWrites\">';\n                          str += \"<p>key: \" + rwsets[j].writes[i].key + \"</p>\";\n                          str +=\n                            \"<p>value: \" + rwsets[j].writes[i].value + \"</p>\";\n                          str += \"</div>\";\n                        }\n                      }\n                    }\n                  }\n\n                  //str += '<p>----]</p>' ;\n                  str += \"</div><br>\";\n                }\n              }\n\n              //str += '<p>]</p></div><br>';\n              str += \"</div><br>\";\n              $(\"#body\").append(str);\n            }\n          }\n        } else {\n          console.log(\"error\");\n          console.log(_results);\n          $(\"#body\").append(\"<h4>\" + _results.error + \"</h4>\");\n        }\n      });\n    }\n  }\n};\n*/\n</script>\n"]}]}